# 09월 15일 : 프로젝트 기능 개발

## 🌞 모닝 스크럼

### 지연

- 패키지 구조 및 기본 환경설정 → 개발 시작
- Default 페이지와 Header, Footer, Modal 컴포넌트 제작
- UI 화면 디자인 일부 수정

### 은송

- 구글 로그인/카카오 로그인 관련 공부
- 회원가입 페이지 제작 (화면 바뀌었다고 해서 수정 필요할 듯)
- 오늘 나머지 진행할 예정

### 나영

- 소셜로그인 구현 중 (시간이 조금 걸리는 점.. 양해 부탁드려요❤) → 넵😊

https://github.com/deepIify/oauth-login-fe

https://deeplify.dev/back-end/spring/oauth2-social-login

⇒ @은송 제가 보면서 하는 자료인데, 프론트 부분도 같이 있어서 여기 참고하면 돼요!

### 선아

- 클래스 API, 인터레스트 API 개발 진행 중
- 무한 스크롤 등 일부 수정 필요할 듯
- 담당 부분 개발 끝나면 나영이랑 같이 로그인 관련 작업

### 원선

- 프립 크롤링 완료(총 5306개) 👏👏
- 탈잉 크롤링 시작 예정

## 💬 팀 미팅

### 캐릭터 컨셉

- **✅ 캐릭터 컨셉을 드리는 것**과 대분류 기준 자유롭게 작업하는 것 중 어느 것이 더 나은지
- 캐릭터 컨셉을 당장 드릴 수 없으니 기다렸다가 결과물에 맞춰 단계마다 캐릭터 설명 다르게 작성하자

### 카테고리 순서

- 카테고리 순서 바꿀수도 있는데 이미 설계 되어있어서 나중에 변경해도 괜찮은지
- 크롤링한 데이터 저장할 때 아이디가 들어가서 어려울 듯 → 그냥 나중에 겹치면 색상을 바꾸자!

### 지역 분류

- Sido 테이블에서 부산 제외 광역시가 다 빠져있는데 어디로 분류 되는지
- 우리 기준에 맞춰 임의로 분류된 것, [Database 설계](https://www.notion.so/Database-b107a1d2ef9e40b28c649b82b845f274) 참고해서 수정하자~

### 참고자료 공유

- [참고자료](https://www.notion.so/7b6a7553b4c94473a554fce165d7824f) 에서 공유하기
- `why?` 한 번에 모아둬서 나중에 찾아보기 편하게 하려고

## 👨‍🏫 팀별 멘토링

### 장정택 멘토님

- 데이터 분석 업무 담당

### 사전 질문

1. **여러 사이트에서 크롤링할 때 사이트들마다 데이터(위치)를 표시하는 정보가 다른데 어떻게 그룹화(주소) 하면 좋을까요?** `PASS`

2. **사용자에게 9개의 선호도에 대한 설문조사 후, 세부 카테고리에 제공된 점수(0-8)와의 내적/코사인 유사도 계산 후, 점수가 높은 상위 3개의 세부 카테고리 추천을 할 예정인데 괜찮나요?**

- 이건 기획안에 따라 다른 거라 정하기 나름, 물론 한 개보단 여러 개 추천이 좋음
- 음악은 보통 20~30곡 추천함, 취미도 1개보다는 3~5개가 나을 듯
- 세부 카테고리에 대한 메타정보가 정말 잘 확보되어야 함
  - 이 부분이 타당한 지 확인 필요
  - 점수값이 타당한 지 확인 필요(이게 어려우면 이진트리형식(디시전 트리)으로)
- CB 추천 자체가 어려움, 질 좋은 메타를 구하기가 힘들어서...
  - 유사한 다른 유저의 결과를 보지 않고 추천하기 때문
  - 필터 버블 발생할 수 있음
  - 유저의 선호도 판단도 같이 들어가면 좋을 듯 → CF도 같이 고려하면 좋을 듯
- 추천 결과 수
  - 9개의 선호도 계산 → 3개
  - 세부 카테고리에 대한 메타가 깔끔하게 구분되어야 함
  - 각 카테고리에 대한 점수의 타당성을 고민해야 함
  - 타당성을 모르겠으면 0,1(binary)로 정해라 → 점수scale, binary 두개의 성능 테스트 진행
- 코사인 유사도
  - 성능이 매우매우매우 안좋다
- 질문
  - 질문 자체가 연관성이 높다고 느껴짐 → 결과 매몰이 생길 수 있다
- `크론바흐 알파계수`  참고!
- contents based 추천 방식
  - 굉장히 힘들다
  - 질좋은 메타값을 구하는 게 힘들다
  - 다른 유저들의 다양성, 질적 유사도 판단 힘듬
    → 너무 특화된 카테고리 추천되면 금방 서비스에 질릴 수 있음
    → 다른 유저들의 선호도 판단도 계산되면 나아질 것임
- collaborative filtering

3. **기획 질문, 현재 기획에서 더 보완되면 좋을 것 같은 부분이 있을까요?**

- 비즈니스 모델 더 뚜렷하면 좋을 듯 → 어떻게 하면 돈을 벌 수 있을까
  - 커머스로 랜딩, 수수료 장사...
  - 캐릭터 성장에 따른 리워드 → 커머스와 연계해서 쿠폰 지급 등
  - 스토리가 있어야 함
- 비즈니스 모델이 이해가 안됨
  - 창업자라 생각하고 돈을 벌자고 생각해서 기획해라
  - 클릭했을 때 커머스 랜딩 페이지로 가게 → 수수료 장사를 할 수 있음
  - 캐릭터가 성장함에 따라 리워드를 주는 것 → 커머스 연결해서 할인 쿠폰을 주어라
- 취미 생활은 일상에서 주가 아니고 '부', 하고 싶을 때 하는 것
  - 일정 관리가 중요! 내가 하고 싶을 때 할 수 있게
  - 푸쉬알림 기능, 유저의 피로도는 올라가지만 필요한 유저 분명히 있을 것
  - 직장인 타겟이라면 구글 캘린더와의 연동도 고려해 볼 것
- 일기
  - 취미는 주가 아니라 부가 됨
  - 취미들은 일정 관리가 굉장히 중요함
  - 캘린더 기반의 푸쉬 알림 기능
    → 유저의 피로도는 높아지지만 유저에게 경각심을 주기 좋다
  - 직장인들을 타겟으로 삼는다면 `구글 캘린더`와 연동 고려
- 당근마켓처럼 기본 기능도 하지만 SNS 기능도 수행하면 어떨지 (유저들과 소통)
  - MZ세대들의 앱 사용 행태 고려해서 외부 공유하기(캐릭터) 기능도 있으면 좋을 듯
- 잔소리
  - 모델 자체가 당근 마켓 같음
  - 취미 같은 것들도 할 수 있는데 소셜 미디어의 역할을 하면 좋겠다
  - 유저들과 소통하게끔 만들어야 함
  - MZ세대들은 인스타, 틱톡을 매우 잘 사용 함 → 외부(인스타, 틱톡) 공유하기 있으면 좋을 것

### 추가 질문

**썸네일 피드백**

- 디자인 중요, 후킹을 하는 가장 원초적인 방법
- 지금 디자인 지루함, 유저가 흥미를 느끼기 어려울 듯 (참고, 이게 정답은 아님)
- 썸네일이 중요 → 지금 꺼는 구닥다리... 정해진 공간에서 많은 정보를 보여주니 가독성 떨어짐
  - 넥플릭스처럼 깔끔하게 이미지로 내용을 보여주자
  - 썸네일 자체에 영화제목 보이는 것처럼 (이미지 ⇒ 곧 내용)
- 썸네일이 중요하다
- 넷플릭스 같은게 요즘 잘팔림
- 다양한 클래스를 줄려고 할 때 → 너무 많은 정보를 보여주려고 하다 보니까 읽히지 않음
- 정해진 구간 안에서 최대한 많은 정보를 주기 위해 썸네일 자체에 영화 제목을 보여주는 게 좋다
- 디자인쪽에서 더 고민하는게 좋을 듯

1. **하고 싶은 기능 많아질수록 제한된 기한 안에서 어떻게 우선 순위를 정하는 게 좋을지**
   - 일단 프로젝트는 완성하는 게 목표!
   - 시간적 여유가 생길 것 같으면 그때 추가 기능 진행
   - 프로젝트 일정 관리 잘 하세요~ `진지`
2. **프론트엔드 담당인데 이 프로젝트에서 기여할 수 있는 부분, 배워갈 점 무엇일지**
   - 본인의 역할에서 모든 것을 커버하기는 힘듦, 시간/체력적 한계
   - 각자 어떤 역할을 했고 어떻게 기여했는지 잘 정리하면 그게 포트폴리오
   - 화면 설계하고 컨셉 구성하는 것 자체가 기여고 역할
   - 모두를 다 알 필요는 없으니 너무 부담X, 걱정되면 수박 겉핥기 식으로라도 훑어보기
     - 나중에 궁금하고 필요할 때 검색할 수 있는 키워드 알고 있는 정도로!
3. **개인 시간 관리 어떻게 하면 좋을지**
   - 체계화 시키기, 서로 코어타임 합의
   - 캘린더 관리 해서 지속적으로, 타임 테이블 쓰기
   - 추석 명절 어떻게 보낼지 합의
   - 우선순위를 정하는 게 중요하다
   - 중요한 업무와 급한 업무 나눠서 생각하기 (4분류)
     - 중요하고 급한 일/중요하지만 급하지 않은 일/안 중요한데 급한 일/안 중요하고 급하지도 않은 일
   - 체력 관리도 같이~ 비타민, 영양제 등 챙겨먹기

## 📒 개발 진행상황

### 오늘의 할 일

#### 프론트엔드

- [ ]  회원가입 화면 제작
- [ ]  로그인 화면 제작
- [ ]  소셜 로그인 (구글/카카오)
- [ ]  홈(클래스) 화면 제작
- [ ]  클래스 목록 불러오기 (추천/관심/인기)
- [ ]  성향 테스트 화면 제작

#### 백엔드

- [ ] 소셜 로그인
- [ ] Class API
- [ ] Interest API
- [ ] 탈잉 크롤링

##### 소셜 로그인 정리

  **최초 회원가입인지, 이미 가입된 회원인지 보내줘야 함**

  [http://localhost:3000/oauth/redirect](http://localhost:3000/oauth/redirect)

  **로그인 로직**

1. 소셜 로그인 요청
2. 백엔드로 GET “/oauth2/authorization/{provider-id}?redirect_uri=http://localhost:3000/oauth/redirect”으로 OAuth 인가 요청
3. Provider 별로 Authorization Code 인증을 할 수 있도록 리다이렉트 (Redirect: GET “https://oauth.provider.com/oauth2.0/authorize?…”)
4. 리다이렉트 화면에서 provider 서비스에 로그인
5. 로그인이 완료된 후, Authorization server로부터 백엔드로 Authorization 코드 응답
6. 백엔드에서 인가 코드를 이용하여 Authorization Server에 엑세스 토큰 요청
7. 엑세스 토큰 획득
8. 엑세스 토큰을 이용하여 Resource Server에 유저 데이터 요청
9. 획득한 유저 데이터를 DB에 저장 후, JWT 엑세스 토큰과 리프레시 토큰을 생성
10. 리프레시 토큰은 수정 불가능한 쿠키에 저장하고(이걸 redis에 저장), 엑세스 토큰은 프로트엔드 리다이렉트 URI 에 쿼리스트링에 토큰을 담아 리다이렉트 (Redirect: GET http://localhost:3000/oauth/redirect?token={jwt-token})
11. 프론트엔드에서 토큰을 저장 후, API 요청 시 헤더에 `Authroization: Bearer {token}`을 추가하여 요청
12. 백엔드에서는 토큰을 확인하여 권한 확인
13. 토큰이 만료된 경우, 쿠키에 저장된 리프레시 토큰을 이용하여 엑세스 토큰과 리프레시 토큰을 재발급

⇒ JWT 토큰 생성해주는것만

### 전달사항

- BE : 소셜 로그인 로직 원래 하려던 거 말고 아래 방법으로 변경
    - [카카오 로그인 JS](https://developers.kakao.com/docs/latest/ko/kakaologin/js)
    - [Vue 에서 Google 로그인 구현](https://ayoteralab.tistory.com/entry/Vuejs-18-Google-OAuth-20-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0-1)

## 🌜 랩업 미팅

### 컨설턴트님 전달사항

#### 내가 개발한 코드가 기업 운영사이트에 올라가는 과정

- 회사에서 배포는 보통 정해진 시간에 하게 됨
- 팀장에게 결재 받고 인프라 담당자에게 요청한 뒤 확인 받고 처리 됨
- 문제 없이 끝나면 좋은데 문제 생기는 경우 더러 있음
- 개발자가 예측할 수 없는 실수는 트래픽이 몰렸을 때 서버가 다운 되는 경우
  - 고치기가 까다로움.... 이런 걸 봐주는 게 DevOps 담당자
- 에러가 나면 로그가 남음, 담당자는 이걸 확인하고 알려줌

#### 금요일 발표

- 내 기준이 아니라 청중 기준, 청중을 생각해서 발표 시간 계획 잡기~
- 질문도 많이 하고 서로 교류가 있었으면!
- 왜 만들었고, 어떻게 설계했고(산출물들), 어떻게 진행할건지, 진행 상황 등

#### 발표 내용 참고

- 주제 선정 이유
- 아이디어 생산 과정
- 기획 의도
- 산출물
  - 요구사항 명세서
  - API 설계서
  - 와이어 프레임
  - DB 설계서
  - 빅데이터의 어떤 분야를 활용해서 할 것인가
- 구현되고 있는 상황
